/**
 * Primary styles
 *
 * Author: Rachel the Great, aka Rachel Nabors auf RachelNabors.com
 */
$black: #3c3c3c;
$highlight: #d6e549; //green
$highlightContrast: #313b02; //dark green
$link: #1CCEFF; //turquoise
$linkVisited: #0097C0; // dark turq
$callout: #e64988; // pink
$magenta: #a52469;

@mixin rgba-background($color, $opacity) {
    background: $color;
    background: rgba($color, $opacity);
}

@mixin innerShadow($x-offset, $y-offset, $blur, $spread, $color) {
	-webkit-box-shadow: inset $x-offset $y-offset $blur $spread $color;
	-moz-box-shadow: inset $x-offset $y-offset $blur $spread $color;
	box-shadow: inset $x-offset $y-offset $blur $spread $color;
}

@import "compass/reset";
@import "_html5";
@import "compass/css3";
@import "_typography";


body {
	background: url(../img/bg_pinstripe.png) 0 0 repeat;
	font-family: $aller;
	font-size: 16px;
	line-height: 1.5em; /* 24px / 16px */
}

em {
	font-style: normal;
	font-family: $alleritalic;
}

strong {
	font-family: $allerbold;
	font-weight: normal;
}

em strong, strong em {
	font-family: $allerbolditalic;
}

p, ul, ol {
	margin-bottom: 1em;
}

img {
}

h1, h2, h3, h4, h5, h6 {
	text-transform: uppercase;
	code {
		text-transform: none;
	}
}

code {
	color: $callout;
}

h3, h4 {
	margin: 0 0 12px;
}

a {
	border-bottom: 1px dotted $link;
	padding: 1px 1px 0 1px;
	text-decoration: none;
}
a:link {
	color:  $link;
}

a:visited {
	border-color: $linkVisited;
	color: $linkVisited;
}

a:hover, a:active {
	color: $highlightContrast;
	background: $highlight;
	border: 0;
}

pre strong {
	color: $callout;
	font-family: monospace;
	font-weight: normal;
}

.overlay {
	 display: none;
	 @include innerShadow(0, 0, 600px, 0, rgba( 0, 0, 0, .5));
	 position: fixed;
	 width:100%; height: 100%;
	 top:  0; left: 0;
}

.wrapper {
	margin: 0 auto;
	width: 960px;
}

footer {
	font-size: ((12/16)*100%); /* 12px / 16px */
	margin: 0 auto 140px;
	width: 93.75%;
}

.title, .alice {
	figure, blockquote {
		float: left;
		padding: 0;
		width: 64.444444444444%; /* 900 / 580 */
		img {
			display: block;
			max-width: 100%;
			max-height: 400px;
		}
	}
}

.alice {
	img {
		float:  left;
		width: 33.333333%; /* 900 / 300 */
	}
	blockquote {
		float: right;
	}
}

.danke {
	float: right;
	width: 64.444444444444%; /* 900 / 580 */
}
.pro-rachel {
	float:  left;
	width: 33.333333%; /* 900 / 300 */
}

section {
	.slide {
		margin: 0 auto 150px;
		width: 93.75%;
	}
	&.title {
		background: url('../img/bg_comics.png') no-repeat 100% -35px;
		padding-top: 55px;
		hgroup, p {
			float: right;
			width: 64.444444444444%; /* 900 / 580 */
			h1 {
				font-family: $ostrichblack;
				font-size: ((100/16)*100%); /* 115px / 16px */
				line-height: ((100/115)*100%); /* 100 / 115px */
			}
			h2 {
				font-family: $ostrich;
				font-size: ((72/16)*100%); /* 72px / 16px */
				line-height: ((60/72)*100%); /* 60px / 72px */
			}
			
		}
		p {
			margin-bottom: .25em;
		}
		figure {
			float:  left;
			width: 33.333333%; /* 900 / 300 */
		}
		figcaption {
			background-image: url(../img/logo.png);
			max-width: 100%;
			width: 264px; height: 117px;
		}
	}
	
	figure {
		margin-bottom: 2em;
	}
	
	img, figcaption {
		display: block;
		margin: 0 auto;
		max-width: 80%;
		text-align: center;
	}
	
	.components img {
		max-width: 100%;
	}
	
	ul {
		margin: 0;
	}
	
	pre {
		background: $black;
		color: #dfdfdf;
		padding: 2.22222222%; /* 900 / 20 */
		width: 60%; /* 900 / 540 */
	}
	
	blockquote {
		font-family: $allerlightitalic;
		font-size: 20px;
		line-height: 45px;
		strong{
			font-family: $alleritalic;
		}
		cite{
			display: block;
			font-family: $allerlight;
			font-size: 16px;
			text-align: right;
			&:before {
				content: "\2014";
			}
		}
	}
	
	.comparison {
		figure {
			float:  right;
			&:first-child { 
				float:  left;
			}
			width: 49%;
			img {
				max-width:  100%;
			}
		}
		figcaption {
			max-width: 100%;
			text-align: left;
		}
	}
	
	li {
		background: url(../img/i_stars.png) 0 0 no-repeat;
		padding-left: 30px;
		margin: 0 0 1em;
	}
	
	div.group {
		margin-bottom: 36px;
	}
	.instruction {
		line-height: 24px;
		float: right;
		width: 33.333333%; /* 900 / 300 */	
		blockquote {
			float: none;
			font-size: 16px;
			line-height: 24px;
			width: auto;
		}
	}

	aside, .alert, .resources { 
		@include border-radius(1em);
		margin-bottom: 24px;
		padding: 24px 0;
		h3, h4 {
			font-family: $allerbold;
			font-size: 24px;
			text-transform: none;
		}
		
		h3, h4, p, ul, blockquote {
			padding: 0 12px;
		}
		a:hover, a:active {
			background: #fff;
		}
	}
	aside {
		background: #dfe2be;
		color: $highlightContrast;
		a:link {
			color: darken($highlightContrast, 30%);
			border-color: darken($highlightContrast, 30%)
		}
		a:visited {
			color: darken($highlightContrast, 60%);
			border-color: darken($highlightContrast, 60%);
		}
	}
	
	.alert {
		background: #f3cbdb;
		color: #4d001f;
		a:link {
			color: darken(#4d001f, 30%);
			border-color: darken(#4d001f, 30%);
		}
		a:visited {
			color: darken(#4d001f, 60%);
			border-color: darken(#4d001f, 60%);
		}
	} 
	
	.resources {
		background: #c5e7f1;
		color: #004153;
		a:link {
			color: darken(#004153, 30%);
			border-color: darken(#004153, 30%);
		}
		a:visited {
			color: darken(#004153, 60%);
			border-color: darken(#004153, 60%);
		}
	}
}

.footnote {
	clear: both;
	color: #666;
	font-family: $allerlight;
	font-size: 12px;
	padding-top: 3em;
}

figcaption {
	font-family: $allerlight;
	em {
		font-family: $allerlightitalic;
	}
	a {
		border: 0;
	}
}

h2 {
	font-family: $ostrichblack;
	font-size: 3em; /* 48px / 16px */
	line-height: 1em;
	margin-bottom: .5em;
	padding: 24px 0;
}

h3 {
	font-family: $ostrich;
	font-size: 3em; /* 30px / 16px */
	line-height: 1em;
	padding: 24px 0;
}

/* Navigation elements */

nav {
	@include rgba-background($black, 0.8);
	a {
		display: block;
		padding: 3px 5px;
	}
	a:link, a:visited, a:hover, a:active {
		border: 0;
		color: #fff;
	}
	a:hover, a:active, a:focus, .current a {
		background-color: $black;
	}
}

#toc {
	@include border-bottom-right-radius(1em);
	font-size: .75em; /*/ 16px / 12px */	
	position: fixed;
	top:  20px; left: -20%;
	width: 20%;
	h4 {
		@include rgba-background($black, 0.8);
		@include border-top-right-radius(1em);
		@include border-bottom-right-radius(1em);
		color:  #fff;
		padding-left: 10px;
		position: absolute;
		top: 0; right: -50px;
		width: 40px;
	}
	ol{
		padding: 1em;
	}
	li {
		color: #fff;
		list-style: outside decimal;
		line-height: 1.2em;
		margin-bottom: .5em;
	}
	a:hover, a:active, a:focus, .current a {
		@include border-radius(5px);
	}
}

#next-prev {
	position: fixed;
	bottom: 0; left: 0;
	width: 100%; 
	li {
		float: left;
		width: 30%;
		a {
			background: url(../img/i_arrows.png) no-repeat 0 -167px;
			padding: 5px 0 10px 30px;
			&:hover, &:active, &:focus {
				background-color: $black;
			}
		}
	}
	.follow {
		float: none;
		margin: 0 auto;
		padding: 5px 5px 10px;
		text-align: center;
		width: 38%;
		a {
			background: none;
		}
	}
	#next {
		float: right;
		text-align: right;	
		a {
			background: url(../img/i_arrows.png) no-repeat 100% 5px;
			padding: 5px 30px 10px 0;
			&:hover, &:active, &:focus {
				background-color: $black;
			}
		}
	}
}


/**
 * Non-semantic helper classes: please define your styles before this section.
 */

/* For image replacement */
.ir { display: block; text-indent: -999em; overflow: hidden; background-repeat: no-repeat; text-align: left; direction: ltr; }

/* Hide for both screenreaders and browsers:
   css-discuss.incutio.com/wiki/Screenreader_Visibility */
.hidden { display: none; visibility: hidden; }

/* Hide only visually, but have it available for screenreaders: by Jon Neal.
  www.webaim.org/techniques/css/invisiblecontent/  &  j.mp/visuallyhidden */
.visuallyhidden { border: 0; clip: rect(0 0 0 0); height: 1px; margin: -1px; overflow: hidden; padding: 0; position: absolute; width: 1px; }
/* Extends the .visuallyhidden class to allow the element to be focusable when navigated to via the keyboard: drupal.org/node/897638 */
.visuallyhidden.focusable:active,
.visuallyhidden.focusable:focus { clip: auto; height: auto; margin: 0; overflow: visible; position: static; width: auto; }

/* Hide visually and from screenreaders, but maintain layout */
.invisible { visibility: hidden; }

/* The Magnificent Clearfix: Updated to prevent margin-collapsing on child elements.
   j.mp/bestclearfix */
.group:before, .group:after{ content: "\0020"; display: block; height: 0; overflow: hidden; }
.group:after { clear: both; }
/* Fix clearfix: blueprintcss.lighthouseapp.com/projects/15318/tickets/5-extra-margin-padding-bottom-of-page */
.group { zoom: 1; }



/**
 * Media queries for responsive design.
 *
 * These follow after primary styles so they will successfully override.
 */

@media all and (orientation:portrait) {
  /* Style adjustments for portrait mode goes here */

}

@media all and (orientation:landscape) {
  /* Style adjustments for landscape mode goes here */

}

/* Grade-A Mobile Browsers (Opera Mobile, Mobile Safari, Android Chrome)
   consider this: www.cloudfour.com/css-media-query-for-mobile-is-fools-gold/ */
@media screen and (max-device-width: 480px) {


  /* Uncomment if you don't want iOS and WinMobile to mobile-optimize the text for you: j.mp/textsizeadjust */
  /* html { -webkit-text-size-adjust:none; -ms-text-size-adjust:none; } */
}


/**
 * Print styles.
 *
 * Inlined to avoid required HTTP connection: www.phpied.com/delay-loading-your-print-css/
 */
@media print {
  * { background: transparent !important; color: black !important; text-shadow: none !important; filter:none !important;
  -ms-filter: none !important; } /* Black prints faster: sanbeiji.com/archives/953 */
  a, a:visited { color: #444 !important; text-decoration: underline; }
  a[href]:after { content: " (" attr(href) ")"; }
  abbr[title]:after { content: " (" attr(title) ")"; }
  .ir a:after, a[href^="javascript:"]:after, a[href^="#"]:after { content: ""; }  /* Don't show links for images, or javascript/internal links */
  pre, blockquote { border: 1px solid #999; page-break-inside: avoid; }
  thead { display: table-header-group; } /* css-discuss.incutio.com/wiki/Printing_Tables */
  tr, img { page-break-inside: avoid; }
  @page { margin: 0.5cm; }
  p, h2, h3 { orphans: 3; widows: 3; }
  h2, h3{ page-break-after: avoid; }
}